# 개요

- **운영체제는 하드웨어 자원을 효율적으로 관리하고,**
- **사용자 및 응용 프로그램이 하드웨어를 쉽게 사용할 수 있도록 추상화 계층을 제공하는 소프트웨어**
- 하드웨어와 응용 프로그램 간의 중개자 역할

  

# 역할

### **1️⃣ 자원 관리(Resource Management)**

- **CPU, 메모리, 저장장치, I/O 장치** 등의 하드웨어 자원을 관리
- 어떤 프로세스가 어느 자원을 언제 사용할지 결정 (→ 스케줄링)

### **2️⃣ 프로세스 관리(Process Management)**

- 프로세스 생성, 실행, 종료
- 문맥 교환(Context Switching)
- 동기화 및 통신 (IPC)

### **3️⃣ 메모리 관리(Memory Management)**

- 프로세스마다 메모리 공간 분리 및 보호
- 가상 메모리, 페이징, 스와핑 등 지원

### **4️⃣ 파일 시스템 관리(File System)**

- 디스크에 데이터 저장 및 조직
- 파일 생성, 읽기/쓰기, 권한 설정

### **5️⃣ 입출력 장치 관리(I/O Management)**

- 키보드, 마우스, 디스크, 네트워크 등의 장치를 관리
- 장치 드라이버 및 버퍼링 처리

### **6️⃣ 사용자 인터페이스 제공(UI)**

- CLI 또는 GUI를 통해 사용자와 소통

  

  

# 커널

- **커널은 운영체제의 가장 핵심적인 부분으로, 하드웨어와 응용 프로그램 사이에서 자원을 관리하고 시스템의 기본 기능을 제공하는 소프트웨어 계층입니다.**
- 커널이 하드웨어 관리만 한다기보다, **자원 관리, 시스템 콜 처리, 보안, 스케줄링** 등 폭넓은 일을 수행합니다.

|   |   |
|---|---|
|**역할**|**설명**|
|**프로세스 관리**|프로세스 생성/종료, CPU 할당, 문맥 교환, 스케줄링 등|
|**메모리 관리**|프로세스별 메모리 공간 분할, 가상 메모리, 페이징|
|**파일 시스템 관리**|파일 읽기/쓰기, 디렉토리 관리, 접근 권한 확인|
|**입출력(I/O) 관리**|디바이스와의 통신 제어 (디스크, 키보드 등)|
|**시스템 호출 인터페이스**|사용자 프로그램이 커널 기능을 요청할 수 있게 중간 인터페이스 제공|
|**보안 및 권한 관리**|사용자, 프로세스, 시스템 자원 간의 접근 제어 및 인증 수행|

> [!important]
> 
> > 표현
> 
> “커널은 CPU, 메모리, 파일 시스템, 네트워크 같은 핵심 자원을 관리하며, 사용자 영역과 하드웨어 사이의 인터페이스를 제공합니다.”

## iOS는?

- XNU 커널 → MacOS도 마찬가지

> [!important]
> 
> > 표현
> 
> “커널은 운영체제의 핵심 구성 요소로, 프로세스, 메모리, 파일 시스템, I/O 자원 등을 통합적으로 관리하며 사용자 프로그램이 하드웨어를 직접 다루지 않아도 되도록 추상화된 인터페이스를 제공합니다.
> 
> iOS는 XNU라는 하이브리드 커널을 사용하여 Mach 커널의 메시지 기반 구조와 BSD의 파일/네트워크 시스템을 결합하고 있습니다.”

  

# iOS의 샌드박스 구조

## 개요

- 샌드박스란 각 앱이 실행되는 고립된(격리된) 실행 환경으로, 다른 앱이나 시스템 리소스에 직접 접근하지 못하도록 제한하는 구조입니다.
- “저장 공간 분리”는 맞지만, 실제로는 **파일 시스템 접근 제한**, **네트워크 권한 제한**, **다른 앱의 메모리 접근 차단** 등 다양한 보호가 적용됩니다.
- iOS 앱은 기본적으로 **자기 앱 컨테이너 밖의 파일 시스템에 접근 불가**합니다.

  

### **✅ 1. 파일 시스템 접근 제한**

- 앱마다 고유한 디렉토리(/AppData/.../Documents, Library, tmp)를 가지고 있음
- 다른 앱의 디렉토리에는 접근 불가
- 공유하고 싶을 경우 App Groups, UIDocumentPickerViewController, CloudKit 등의 API를 사용해야 함

### **✅ 2. 네트워크 제한**

- iOS 9 이후부터 **App Transport Security (ATS)** 적용 → 기본적으로 HTTPS만 허용
- 특정 도메인을 사용하려면 Info.plist에 예외 선언 필요

### **✅ 3. 프라이버시 보호**

- **카메라, 마이크, 사진첩, 위치 등은 명시적 사용자 동의 없이는 접근 불가**
- 권한 요청 및 설정은 Info.plist에 키를 추가하고, 앱 내에서 사용자에게 동의 받아야 함

### **✅ 4. 런타임 제어 및 코드 실행 제한**

- 앱은 **자기 자신 이외의 코드를 동적으로 로딩하거나 실행할 수 없음**
- JIT 컴파일 금지, 외부 플러그인 로딩 금지
    
    → 즉, 앱은 실행 시점에 이미 **정적으로 컴파일된 코드만** 사용할 수 있고,
    
    **앱 실행 중에 동적으로 새로운 코드를 추가하거나 수정하는 행동은 금지**
    

> [!important]
> 
> > 표현
> 
> “iOS의 샌드박스 구조는 각 앱을 고립된 환경에서 실행시켜 보안성과 안정성을 확보하는 시스템입니다.
> 
> 앱은 자신의 컨테이너 파일 시스템 외에는 접근할 수 없고, 민감한 리소스에 접근하려면 명시적 권한 요청이 필요합니다.
> 
> 이로 인해 악성 앱이나 실수로 인한 시스템 오작동을 방지하고, 사용자 데이터를 보호할 수 있습니다.”